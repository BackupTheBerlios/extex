<?xml version="1.0"?>
<!--
  -  Copyright (C) 2003-2006 The ExTeX Group
  -
  -  This library is free software; you can redistribute it and/or modify it
  -  under the terms of the GNU Lesser General Public License as published by
  -  the Free Software Foundation; either version 2.1 of the License, or (at
  -  your option) any later version.
  -
  -  This library is distributed in the hope that it will be useful, but
  -  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
  -  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public
  -  License for more details.
  -
  -  You should have received a copy of the GNU Lesser General Public License
  -  along with this library; if not, write to the Free Software Foundation,
  -  Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA
  -
  -->
<ExTeX >
  <banner>ExTeX mode</banner>

  <!-- 
    -  The section "Resource" contains the search specification for input files.
    -->
  <Resource src="path/fileFinder.xml"/>

  <!-- 
    -  The section "Fonts" contains the search specification for font files.
    -  Note that font files are also sought in TEXINPUTS but NOT requested from
    -  the user.
    -->
  <Fonts class="de.dante.extex.unicodeFont.FontFactoryImpl">
     <tfm_pfb class="de.dante.extex.unicodeFont.format.tex.tfm.TfmFontPfb"/>
  </Fonts>

  <!-- 
    -  The section "ColorConverter" contains the specification for the
    -  color converter.
    -->
  <ColorConverter default="basic">
    <basic class="de.dante.extex.color.BasicColorConverter"/>
    <no class="de.dante.extex.color.NoColorConverter"/>
  </ColorConverter>

  <!-- 
    -  The section "Scanner" contains the specification for the scanner, i.e. the
    -  token stream.
    -->
  <Scanner default="base">
    <base class="de.dante.extex.scanner.stream.impl.TokenStreamImpl"
          buffersize=""/>
    <base32 class="de.dante.extex.scanner.stream.impl32.TokenStreamImpl"
            buffersize=""/>
  </Scanner>

  <!-- 
    -  The section "Interpreter" contains the specification for the core
    -  interpreter.
    -->
  <Interpreter class="de.dante.extex.interpreter.max.Moritz">

    <!-- The maximum number of errors before an abort is forced.
      -->
    <maxErrors>100</maxErrors>

    <!-- Tokens to be inserted at every job.
      -->
    <everyjob></everyjob>

    <!-- The default font if nothing else is done.
      -  The attribute "name" can be used to specify the font name. Default: nullfont
      -  The attribute "size" can be used to specify the size. Default: design size.
      -->
    <Font name=""/>

    <!-- The configuration for the language manager.
      -->
    <Language src="language/language.xml" />

    <!-- The configuration of the token factory.
      -->
    <TokenFactory class="de.dante.extex.scanner.type.token.TokenFactoryImpl"/>

    <!-- The configuration of the context implementation to use.
      -->
    <Context default="ExTeX">
      <ExTeX class="de.dante.extex.interpreter.context.impl.ContextImpl">
        <!-- The implementation of the group to use.
          -->
        <Group class="de.dante.extex.interpreter.context.impl.GroupImpl"/>

        <!-- The implementation of the typesetting context to use.
          -->
        <TypesettingContext class="de.dante.extex.interpreter.context.TypesettingContextImpl"/>
      </ExTeX>
    </Context>

    <!-- The implementation of the error handler to use.
      -->
    <ErrorHandler default="ExTeX">
     <ExTeX class="de.dante.extex.main.errorHandler.ErrorHandlerImpl">
       <EditHandler class="de.dante.extex.main.errorHandler.editHandler.EditHandlerTeXImpl"/>
     </ExTeX>
     <TeX class="de.dante.extex.main.errorHandler.ErrorHandlerTeXImpl">
       <EditHandler class="de.dante.extex.main.errorHandler.editHandler.EditHandlerTeXImpl"/>
     </TeX>
     <extex class="de.dante.extex.main.errorHandler.ErrorHandlerImpl"/>
     <tex class="de.dante.extex.main.errorHandler.ErrorHandlerTeXImpl"/>
    </ErrorHandler>

    <unit src="unit/tex.xml"/>
    <unit src="unit/etex.xml"/>
    <unit src="unit/omega.xml"/>
    <unit src="unit/ensureloaded.xml"/>
    <unit src="unit/extex.xml"/>

  </Interpreter>

  <!-- 
    -  The section "Typesetter" contains the specification for the typesetter.
    -  Here another level of indirection is introduced which allows us to select
    -  one of several typesetters programatically.
    -->
  <Typesetter default="TeX">
    <TeX class="de.dante.extex.typesetter.impl.TypesetterImpl"
         direction="lr">
      <PageBuilder class="de.dante.extex.typesetter.pageBuilder.impl.PageBuilderImpl"/>
      <ParagraphBuilder class="de.dante.extex.typesetter.paragraphBuilder.texImpl.TeXParagraphBuilder">
        <Hyphenator class="de.dante.extex.typesetter.paragraphBuilder.texImpl.TeXParagraphBuilder"/>
      </ParagraphBuilder>
      <NodeFactory class="de.dante.extex.typesetter.type.node.factory.CachingNodeFactory"/>
    </TeX>
    <experimental class="de.dante.extex.typesetter.impl.TypesetterImpl"
         direction="lr">
      <PageBuilder class="de.dante.extex.typesetter.pageBuilder.impl.PageBuilderImpl"/>
      <ParagraphBuilder class="de.dante.extex.typesetter.paragraphBuilder.impl.ParagraphBuilderImpl"/>
      <NodeFactory class="de.dante.extex.typesetter.type.node.factory.CachingUnicodeNodeFactory"/>
    </experimental>
    <devel class="de.dante.extex.typesetter.impl.TypesetterImpl"
           direction="lr">
      <PageBuilder class="de.dante.extex.typesetter.pageBuilder.impl.PageBuilderImpl"/>
      <ParagraphBuilder class="de.dante.extex.typesetter.paragraphBuilder.trivial.TrivialBuilder"/>
      <NodeFactory class="de.dante.extex.typesetter.type.node.factory.CachingUnicodeNodeFactory"/>
    </devel>
  </Typesetter>

  <!--
    -  The section "Output" contains the specification for the output file.
    -  The format attribute contains a format according to the MessageFormat
    -  specification of Java.
    -  {0} is replaced with the bease name of the output file. 
    -  {1} is replaced with the name supplied or the empty string if null.
    -  {2} is replaced with the number. This can be formatted freely.
    -  {3} is replaced by the type preceeded by  period (.).
    -->
  <Output default="default">
    <default format="{0}{1}{2,number,0000}{3}"/>
    <dump format="{0}{1}{2,number,0000}.out"/>
    <dvi format="{0}{1}{2,number,0000}.dvi"/>
    <out format="{0}{1}{2,number,0000}.out"/>
    <pdf format="{0}{1}{2,number,0000}.pdf"/>
    <rtf format="{0}{1}{2,number,0000}.rtf"/>
    <text format="{0}{1}{2,number,0000}.txt"/>
    <xml format="{0}{1}{2,number,0000}.xml"/>
  </Output>
 
  <!-- 
    -  The section "DocumentWriter" contains the specification for the backend.
    -  Here another level of indirection is introduced which allows us to select
    -  one of several backends programatically.
    -->
  <DocumentWriter src="backend/documentWriter"/>

</ExTeX>
